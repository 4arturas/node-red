[
    {
        "id": "fc1877e6281f18c0",
        "type": "tab",
        "label": "Test JSON generator",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a5c9772ae6334205",
        "type": "tab",
        "label": "Collection",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b70b82bf8d00eb8a",
        "type": "tab",
        "label": "While Ex.",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "4a9935b75e76a65a",
        "type": "subflow",
        "name": "Suite Flow",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 100,
                "wires": [
                    {
                        "id": "8e227f858e741893"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1300,
                "y": 100,
                "wires": [
                    {
                        "id": "8c7b98efc638aa4e",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "suiteName",
                "type": "str",
                "value": "suite1"
            },
            {
                "name": "suiteBatchId",
                "type": "str",
                "value": "yyyyyyyy111111"
            }
        ],
        "meta": {},
        "color": "#DDAA99",
        "status": {
            "x": 40,
            "y": 40,
            "wires": []
        }
    },
    {
        "id": "f79468d09c2b4e79",
        "type": "subflow",
        "name": "Case Flow",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 200,
                "y": 160,
                "wires": []
            }
        ],
        "out": [
            {
                "x": 1360,
                "y": 260,
                "wires": [
                    {
                        "id": "c122530013e27beb",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "caseBatchId",
                "type": "str",
                "value": "zzzzzzz1111111"
            },
            {
                "name": "threads",
                "type": "num",
                "value": "4"
            },
            {
                "name": "loop",
                "type": "num",
                "value": "101"
            }
        ],
        "meta": {},
        "color": "#DDAA99",
        "status": {
            "x": 220,
            "y": 80,
            "wires": []
        }
    },
    {
        "id": "293ae38c7343ee6b",
        "type": "subflow",
        "name": "Server",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 200,
                "y": 200,
                "wires": [
                    {
                        "id": "de514f7d2c7030c9"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 900,
                "y": 200,
                "wires": [
                    {
                        "id": "ffa4330dae1613e8",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "clientName",
                "type": "str",
                "value": "clientName"
            },
            {
                "name": "http",
                "type": "str",
                "value": "https://server.com"
            },
            {
                "name": "authorization",
                "type": "str",
                "value": "Fixed Token"
            },
            {
                "name": "method",
                "type": "str",
                "value": "POST"
            }
        ],
        "meta": {},
        "color": "#DDAA99",
        "status": {
            "x": 200,
            "y": 80,
            "wires": []
        }
    },
    {
        "id": "45a53fed240aa004",
        "type": "subflow",
        "name": "Case",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 260,
                "y": 220,
                "wires": [
                    {
                        "id": "a819cb16e240cfd9"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 940,
                "y": 220,
                "wires": [
                    {
                        "id": "6e170e84c4830c25",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "caseBatchId",
                "type": "str",
                "value": ""
            },
            {
                "name": "threads",
                "type": "num",
                "value": ""
            },
            {
                "name": "loop",
                "type": "num",
                "value": ""
            }
        ],
        "meta": {},
        "color": "#DDAA99",
        "status": {
            "x": 260,
            "y": 140,
            "wires": []
        }
    },
    {
        "id": "29f9222b83059643",
        "type": "subflow",
        "name": "Suite",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 300,
                "y": 260,
                "wires": [
                    {
                        "id": "605ccca383470d2b"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 920,
                "y": 260,
                "wires": [
                    {
                        "id": "aa9d755879813f53",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "suiteName",
                "type": "str",
                "value": ""
            },
            {
                "name": "suiteBatchId",
                "type": "str",
                "value": ""
            }
        ],
        "meta": {},
        "color": "#DDAA99",
        "status": {
            "x": 300,
            "y": 180,
            "wires": []
        }
    },
    {
        "id": "8e227f858e741893",
        "type": "template",
        "z": "4a9935b75e76a65a",
        "name": "Suite",
        "field": "payload.suite",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\n  \"suiteName\": null,\n  \"version\": 1212,\n  \"parameters\": {\n    \"suiteBatchId\": null\n  },\n  \"cases\": [\n  ]\n}",
        "output": "json",
        "x": 130,
        "y": 100,
        "wires": [
            [
                "2a273dad8d547814"
            ]
        ]
    },
    {
        "id": "980820d05d7010f3",
        "type": "function",
        "z": "4a9935b75e76a65a",
        "name": "Push Case Into Suite",
        "func": "\nnode.log(msg.payload.suite);\n\nmsg.payload.suite.cases.push(msg.payload.case);\n\nmsg.payload.case.server     = msg.payload.server;\nmsg.payload.case.body       = msg.payload.body;\nmsg.payload.case.objects    = msg.payload.objects;\n\n\ndelete msg.payload.server;\ndelete msg.payload.body;\ndelete msg.payload.objects;\ndelete msg.payload.case;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 100,
        "wires": [
            [
                "bda02361c6d46be0"
            ]
        ]
    },
    {
        "id": "13abe75faafb5b79",
        "type": "function",
        "z": "4a9935b75e76a65a",
        "name": "",
        "func": "\nnode.log(1111);\n\n//node.log(env.get(\"suiteName\"));\nnode.log(JSON.stringify(msg.payload.suite));\n\n\n//node.log(msg.payload.suite.parameters.suiteBatchId);\nnode.log(2222);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 840,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "2a273dad8d547814",
        "type": "change",
        "z": "4a9935b75e76a65a",
        "name": "Set Suite Env Var",
        "rules": [
            {
                "t": "set",
                "p": "payload.suite.suiteName",
                "pt": "msg",
                "to": "suiteName",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "payload.suite.parameters.suiteBatchId",
                "pt": "msg",
                "to": "suiteBatchId",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 100,
        "wires": [
            [
                "13abe75faafb5b79",
                "6c973f4c16ede555"
            ]
        ]
    },
    {
        "id": "6c973f4c16ede555",
        "type": "subflow:f79468d09c2b4e79",
        "z": "4a9935b75e76a65a",
        "name": "",
        "x": 530,
        "y": 100,
        "wires": [
            [
                "980820d05d7010f3"
            ]
        ]
    },
    {
        "id": "bda02361c6d46be0",
        "type": "subflow:f79468d09c2b4e79",
        "z": "4a9935b75e76a65a",
        "name": "",
        "env": [
            {
                "name": "threads",
                "value": "5",
                "type": "num"
            },
            {
                "name": "loop",
                "value": "201",
                "type": "num"
            }
        ],
        "x": 930,
        "y": 100,
        "wires": [
            [
                "8c7b98efc638aa4e"
            ]
        ]
    },
    {
        "id": "8c7b98efc638aa4e",
        "type": "function",
        "z": "4a9935b75e76a65a",
        "name": "Push Case Into Suite",
        "func": "\nnode.log(msg.payload.suite);\n\nmsg.payload.suite.cases.push(msg.payload.case);\n\nmsg.payload.case.server     = msg.payload.server;\nmsg.payload.case.body       = msg.payload.body;\nmsg.payload.case.objects    = msg.payload.objects;\n\n\ndelete msg.payload.server;\ndelete msg.payload.body;\ndelete msg.payload.objects;\ndelete msg.payload.case;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1100,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "dba384fec8265ca8",
        "type": "template",
        "z": "f79468d09c2b4e79",
        "name": "http://server.com",
        "field": "payload.server",
        "fieldType": "msg",
        "format": "json",
        "syntax": "plain",
        "template": "{\n  \"clientName\": \"asas\",\n  \"http\": \"https://server.com\",\n  \"header\": {\n    \"authorization\": \"Fixeg token\",\n    \"x-ray\": \"1234567\",\n    \"referrerUrl\": \"asasas\"\n  },\n  \"method\": \"post\"\n}",
        "output": "json",
        "x": 420,
        "y": 240,
        "wires": [
            [
                "803965d144a0d18b"
            ]
        ]
    },
    {
        "id": "803965d144a0d18b",
        "type": "template",
        "z": "f79468d09c2b4e79",
        "name": "Body",
        "field": "payload.body",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n  \"paymentId\": \"1321321231\",\n  \"amount\": 7.85,\n  \"currency\": \"EUR\",\n  \"unstructuredRemittanceInfo\": \"payment for Licensed Fresh Sausages\",\n  \"debtorAccount\": \"sdfsdfdsf\",\n  \"creditorAccount\": \"GB81SEOU00994400000088\",\n  \"debtor\": {\n    \"address\": {\n      \"country\": \"IL\",\n      \"addressLine1\": \"86460 Dibbert Prairie Suite 085\",\n      \"addressLine2\": \"East Lisandrofort, LK-50064-7200\"\n    },\n    \"name\": \"Howell Abshire\",\n    \"privatePerson\": {\n      \"dateAndPlaceOfBirth\": {\n        \"dateOfBirth\": \"1999-12-08\",\n        \"country\": \"LR\",\n        \"city\": \"South Vaughn\",\n        \"province\": \"Bedfordshire\"\n      }\n    }\n  },\n  \"creditor\": {\n    \"name\": \"Chadd Turcotte\",\n    \"privatePerson\": {\n      \"other\": {\n        \"id\": \"719-16-5638\",\n        \"type\": \"NIDN\"\n      }\n    }\n  },\n  \"ultimateDebtor\": {\n    \"name\": \"White, Hahn and Howe, Inc\",\n    \"legalEntity\": {\n      \"other\": {\n        \"id\": \"59025467\",\n        \"type\": \"COID\"\n      }\n    }\n  },\n  \"ultimateCreditor\": {\n    \"name\": \"Wilderman and Sons, Inc\",\n    \"legalEntity\": {\n      \"other\": {\n        \"id\": \"51073930\",\n        \"type\": \"PRTRY\",\n        \"proprietary\": \"CUSTOM ID TYPE\"\n      }\n    }\n  },\n  \"endToEnd\": \"KDX3287\"\n}",
        "output": "json",
        "x": 570,
        "y": 240,
        "wires": [
            [
                "4c1f162e63560710"
            ]
        ]
    },
    {
        "id": "55701dea7a55261d",
        "type": "template",
        "z": "f79468d09c2b4e79",
        "name": "Test1",
        "field": "payload.test",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\n    \"test1\": {\n      \"replace\": {\n        \"paymentId\": \"{{payload.collection.options.parameters.collectionBatchId}}-{{payload.suite.parameters.suiteBatchId}}-{{payload.case.parameters.caseBatchId}}-{{payload.counter}}\",\n        \"debtorAccount\": \"CY06904000010000000000201000\",\n        \"creditorAccount\": \"CY06904000010000000000201000\",\n        \"privatePerson\": \"asas\"\n      },\n      \"remove\": [\n        \"unstructuredRemittanceInfo\",\n        \"ultimateCreditor\"\n      ],\n      \"result\": {\n        \"httpCode\": \"200\",\n        \"saveRequest\": true,\n        \"saveResponse\": true,\n        \"responseAssert\": {\n          \"ultimateCreditor.legalEntity[*].other.id\": \"^.*\"\n        }\n      }\n    }\n}",
        "output": "json",
        "x": 830,
        "y": 260,
        "wires": [
            [
                "0472a2a068c37123"
            ]
        ]
    },
    {
        "id": "2ccecb3665956fe6",
        "type": "template",
        "z": "f79468d09c2b4e79",
        "name": "Test2",
        "field": "payload.test",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\n    \"test2\": {\n      \"replace\": {\n        \"paymentId\": \"{{payload.collection.options.parameters.collectionBatchId}}-{{payload.suite.parameters.suiteBatchId}}-{{payload.case.parameters.caseBatchId}}-{{payload.counter}}\",\n        \"debtorAccount\": \"CY06904000010000000000201000\",\n        \"creditorAccount\": \"CY06904000010000000000201000\",\n        \"privatePerson\": \"asas\"\n      },\n      \"remove\": [\n        \"unstructuredRemittanceInfo\",\n        \"ultimateCreditor\"\n      ],\n      \"result\": {\n        \"httpCode\": \"200\",\n        \"saveRequest\": true,\n        \"saveResponse\": true,\n        \"responseAssert\": {\n          \"ultimateCreditor.legalEntity[*].other.id\": \"^.*\"\n        }\n      }\n    }\n}",
        "output": "json",
        "x": 1090,
        "y": 260,
        "wires": [
            [
                "c122530013e27beb"
            ]
        ]
    },
    {
        "id": "4c1f162e63560710",
        "type": "template",
        "z": "f79468d09c2b4e79",
        "name": "Objects",
        "field": "payload.objects",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "[]",
        "output": "json",
        "x": 700,
        "y": 240,
        "wires": [
            [
                "55701dea7a55261d"
            ]
        ]
    },
    {
        "id": "c122530013e27beb",
        "type": "function",
        "z": "f79468d09c2b4e79",
        "name": "Push Test",
        "func": "\n//node.log(msg.payload.suite);\n\nmsg.payload.objects.push(msg.payload.test);\n\ndelete msg.payload.test;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1220,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "0472a2a068c37123",
        "type": "function",
        "z": "f79468d09c2b4e79",
        "name": "Push Test",
        "func": "\n//node.log(msg.payload.suite);\n\nmsg.payload.objects.push(msg.payload.test);\n\ndelete msg.payload.test;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 960,
        "y": 260,
        "wires": [
            [
                "2ccecb3665956fe6"
            ]
        ]
    },
    {
        "id": "7d414dca1bf66d61",
        "type": "template",
        "z": "f79468d09c2b4e79",
        "name": "Case 1",
        "field": "payload.case",
        "fieldType": "msg",
        "format": "javascript",
        "syntax": "mustache",
        "template": "{\n  \"parameters\": {\n    \"caseBatchId\": null\n  },\n  \"caseName\": \"OutgoingPaymentSimple\",\n  \"caseBase\": \"OutgoingPaymentSCT\",\n  \"threads\": 3,\n  \"loop\": 100,\n  \"flow\": [\n    {\n      \"sendPayment\": true,\n      \"checkPayment\": true\n    }\n  ],\n  \"server\": null,\n  \"body\":   null,\n  \"objects\": []\n}",
        "output": "json",
        "x": 160,
        "y": 120,
        "wires": [
            [
                "fe81c6be0d46a1b3"
            ]
        ]
    },
    {
        "id": "fe81c6be0d46a1b3",
        "type": "change",
        "z": "f79468d09c2b4e79",
        "name": "Set Case Env Var",
        "rules": [
            {
                "t": "set",
                "p": "payload.case.parameters.caseBatchId",
                "pt": "msg",
                "to": "caseBatchId",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "payload.case.threads",
                "pt": "msg",
                "to": "threads",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "payload.case.loop",
                "pt": "msg",
                "to": "loop",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 180,
        "wires": [
            [
                "dba384fec8265ca8"
            ]
        ]
    },
    {
        "id": "de514f7d2c7030c9",
        "type": "template",
        "z": "293ae38c7343ee6b",
        "name": "Server",
        "field": "payload.server",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n  \"clientName\": null,\n  \"http\": null,\n  \"header\": {\n    \"authorization\": null,\n    \"x-ray\": \"1234567\",\n    \"referrerUrl\": \"asasas\"\n  },\n  \"method\": null\n}",
        "output": "json",
        "x": 330,
        "y": 200,
        "wires": [
            [
                "e7fc4a28e66eade0"
            ]
        ]
    },
    {
        "id": "e7fc4a28e66eade0",
        "type": "change",
        "z": "293ae38c7343ee6b",
        "name": "Set Vars",
        "rules": [
            {
                "t": "set",
                "p": "payload.server.clientName",
                "pt": "msg",
                "to": "clientName",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "payload.server.http",
                "pt": "msg",
                "to": "http",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "payload.header.authorization",
                "pt": "msg",
                "to": "authorization",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "payload.header.method",
                "pt": "msg",
                "to": "method",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 200,
        "wires": [
            [
                "ffa4330dae1613e8"
            ]
        ]
    },
    {
        "id": "ffa4330dae1613e8",
        "type": "function",
        "z": "293ae38c7343ee6b",
        "name": "Delete server object",
        "func": "\ndelete msg.payload.server;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "f4cb34cdc2fb32e2",
        "type": "change",
        "z": "45a53fed240aa004",
        "name": "Set Case Env Var",
        "rules": [
            {
                "t": "set",
                "p": "payload.case.parameters.caseBatchId",
                "pt": "msg",
                "to": "caseBatchId",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "payload.case.threads",
                "pt": "msg",
                "to": "threads",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "payload.case.loop",
                "pt": "msg",
                "to": "loop",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 220,
        "wires": [
            [
                "6e170e84c4830c25"
            ]
        ]
    },
    {
        "id": "a819cb16e240cfd9",
        "type": "template",
        "z": "45a53fed240aa004",
        "name": "Case",
        "field": "payload.case",
        "fieldType": "msg",
        "format": "javascript",
        "syntax": "mustache",
        "template": "{\n  \"parameters\": {\n    \"caseBatchId\": null\n  },\n  \"caseName\": \"OutgoingPaymentSimple\",\n  \"caseBase\": \"OutgoingPaymentSCT\",\n  \"threads\": null,\n  \"loop\": null,\n  \"flow\": [\n    {\n      \"sendPayment\": true,\n      \"checkPayment\": true\n    }\n  ],\n  \"server\": null,\n  \"body\":   null,\n  \"objects\": []\n}",
        "output": "json",
        "x": 370,
        "y": 220,
        "wires": [
            [
                "f4cb34cdc2fb32e2"
            ]
        ]
    },
    {
        "id": "6e170e84c4830c25",
        "type": "function",
        "z": "45a53fed240aa004",
        "name": "Delete Case variables",
        "func": "delete msg.payload.case;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "605ccca383470d2b",
        "type": "template",
        "z": "29f9222b83059643",
        "name": "Suite",
        "field": "payload.suite",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n  \"suiteName\": null,\n  \"version\": 1212,\n  \"parameters\": {\n    \"suiteBatchId\": null\n  },\n  \"cases\": [\n  ]\n}",
        "output": "json",
        "x": 410,
        "y": 260,
        "wires": [
            [
                "7bcb025833299b46"
            ]
        ]
    },
    {
        "id": "7bcb025833299b46",
        "type": "change",
        "z": "29f9222b83059643",
        "name": "Set Suite Env Var",
        "rules": [
            {
                "t": "set",
                "p": "payload.suite.suiteName",
                "pt": "msg",
                "to": "suiteName",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "payload.suite.parameters.suiteBatchId",
                "pt": "msg",
                "to": "suiteBatchId",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 260,
        "wires": [
            [
                "aa9d755879813f53"
            ]
        ]
    },
    {
        "id": "aa9d755879813f53",
        "type": "function",
        "z": "29f9222b83059643",
        "name": "Delete Suite Vars",
        "func": "delete msg.payload.suite;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "be2b890187a6373c",
        "type": "inject",
        "z": "fc1877e6281f18c0",
        "name": "Collection",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"batchId\":1,\"testCaseName\":\"${TEST_CASE_NAME}\",\"testCaseBase\":\"${TEST_CASE_BASE}\",\"threads\":\"${THREADS}\",\"loop\":\"${LOOP}\",\"flow\":\"${FLOW}\",\"testServer\":\"${TEST_SERVER}\",\"body\":\"${BODY}\",\"testObjects\":\"\"}",
        "payloadType": "json",
        "x": 100,
        "y": 180,
        "wires": [
            [
                "dab6903643459371"
            ]
        ]
    },
    {
        "id": "e7350c70b6cd2099",
        "type": "debug",
        "z": "fc1877e6281f18c0",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 180,
        "wires": []
    },
    {
        "id": "dab6903643459371",
        "type": "change",
        "z": "fc1877e6281f18c0",
        "name": "Suite",
        "rules": [
            {
                "t": "set",
                "p": "payload.testCaseName",
                "pt": "msg",
                "to": "My First Test Suite",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload.testCaseBase",
                "pt": "msg",
                "to": "My First Test Case Base",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload.threads",
                "pt": "msg",
                "to": "3",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "payload.loop",
                "pt": "msg",
                "to": "10",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 250,
        "y": 180,
        "wires": [
            [
                "815e943525b8bea4"
            ]
        ]
    },
    {
        "id": "815e943525b8bea4",
        "type": "change",
        "z": "fc1877e6281f18c0",
        "name": "Flow",
        "rules": [
            {
                "t": "set",
                "p": "payload.flow",
                "pt": "msg",
                "to": "[{\"sendPayment\":true,\"checkPayment\":true}]",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 390,
        "y": 180,
        "wires": [
            [
                "112ade4ec45d1126"
            ]
        ]
    },
    {
        "id": "76a4395a75daff27",
        "type": "change",
        "z": "fc1877e6281f18c0",
        "name": "Body",
        "rules": [
            {
                "t": "set",
                "p": "payload.body",
                "pt": "msg",
                "to": "{\"paymentId\":\"1321321231\",\"amount\":7.85,\"currency\":\"EUR\",\"unstructuredRemittanceInfo\":\"payment for Licensed Fresh Sausages\",\"debtorAccount\":\"CY06904000010000000000201000\",\"creditorAccount\":\"GB81SEOU00994400000088\",\"debtor\":{\"address\":{\"country\":\"IL\",\"addressLine1\":\"86460 Dibbert Prairie Suite 085\",\"addressLine2\":\"East Lisandrofort, LK-50064-7200\"},\"name\":\"Howell Abshire\",\"privatePerson\":{\"dateAndPlaceOfBirth\":{\"dateOfBirth\":\"1999-12-08\",\"country\":\"LR\",\"city\":\"South Vaughn\",\"province\":\"Bedfordshire\"}}},\"creditor\":{\"name\":\"Chadd Turcotte\",\"privatePerson\":{\"other\":{\"id\":\"719-16-5638\",\"type\":\"NIDN\"}}},\"ultimateDebtor\":{\"name\":\"White, Hahn and Howe, Inc\",\"legalEntity\":{\"other\":{\"id\":\"59025467\",\"type\":\"COID\"}}},\"ultimateCreditor\":{\"name\":\"Wilderman and Sons, Inc\",\"legalEntity\":{\"other\":{\"id\":\"51073930\",\"type\":\"PRTRY\",\"proprietary\":\"CUSTOM ID TYPE\"}}},\"endToEnd\":\"KDX3287\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 180,
        "wires": [
            [
                "a7e56321e01ee59a"
            ]
        ]
    },
    {
        "id": "112ade4ec45d1126",
        "type": "change",
        "z": "fc1877e6281f18c0",
        "name": "Server",
        "rules": [
            {
                "t": "set",
                "p": "payload.testServer",
                "pt": "msg",
                "to": "{\"http\":\"http://server.com\",\"header\":[{\"autorization\":\"Fixed token\"}],\"method\":\"post\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 180,
        "wires": [
            [
                "76a4395a75daff27"
            ]
        ]
    },
    {
        "id": "a7e56321e01ee59a",
        "type": "change",
        "z": "fc1877e6281f18c0",
        "name": "Test",
        "rules": [
            {
                "t": "set",
                "p": "payload.testObjects",
                "pt": "msg",
                "to": "[{\"test1\":{\"replace\":{\"debtorAccount\":\"CY06904000010000000000201000\",\"creditorAccount\":\"CY06904000010000000000201000\"},\"remove\":[\"unstructuredRemittanceInfo\",\"ultimateCreditor\"],\"result\":{\"httpCode\":\"200\",\"responseSave\":true,\"reponseAssert\":{\"ultimateCreditor.legalEntity[0].other.id\":\"51073930\"}}}},{\"test2\":{\"replace\":{\"debtorAccount\":\"CY06904000010000000000201000\",\"creditorAccount\":\"CY06904000010000000000201000\"},\"remove\":[\"unstructuredRemittanceInfo\",\"ultimateCreditor\"],\"result\":{\"httpCode\":\"200\",\"responseSave\":true,\"reponseAssert\":{\"ultimateCreditor.legalEntity[0].other.id\":\"51073930\"}}}}]",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 180,
        "wires": [
            [
                "e7350c70b6cd2099"
            ]
        ]
    },
    {
        "id": "55179bea399ef5a8",
        "type": "inject",
        "z": "fc1877e6281f18c0",
        "name": "JSON",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"collection\":{\"options\":{\"collectionName\":\"testtregtrerreion\",\"version\":1212,\"parameters\":{\"collectionBatchId\":\"xxxxxx\"}},\"suites\":[{\"suiteName\":\"suite1\",\"version\":1212,\"parameters\":{\"suiteBatchId\":\"yyyyyyyy111111\"},\"cases\":[{\"parameters\":{\"caseBatchId\":\"zzzzzzz1111111\"},\"caseName\":\"OutgoingPaymentSimple\",\"caseBase\":\"OutgoingPaymentSCT\",\"threads\":3,\"loop\":100,\"flow\":[{\"sendPayment\":true,\"checkPayment\":true}],\"server\":{\"clientName\":\"asas\",\"http\":\"https://server/com\",\"header\":{\"authorization\":\"Fixeg token\",\"x-ray\":\"1234567\",\"referrerUrl\":\"asasas\"},\"method\":\"post\"},\"body\":{\"paymentId\":\"1321321231\",\"amount\":7.85,\"currency\":\"EUR\",\"unstructuredRemittanceInfo\":\"payment for Licensed Fresh Sausages\",\"debtorAccount\":\"sdfsdfdsf\",\"creditorAccount\":\"GB81SEOU00994400000088\",\"debtor\":{\"address\":{\"country\":\"IL\",\"addressLine1\":\"86460 Dibbert Prairie Suite 085\",\"addressLine2\":\"East Lisandrofort, LK-50064-7200\"},\"name\":\"Howell Abshire\",\"privatePerson\":{\"dateAndPlaceOfBirth\":{\"dateOfBirth\":\"1999-12-08\",\"country\":\"LR\",\"city\":\"South Vaughn\",\"province\":\"Bedfordshire\"}}},\"creditor\":{\"name\":\"Chadd Turcotte\",\"privatePerson\":{\"other\":{\"id\":\"719-16-5638\",\"type\":\"NIDN\"}}},\"ultimateDebtor\":{\"name\":\"White, Hahn and Howe, Inc\",\"legalEntity\":{\"other\":{\"id\":\"59025467\",\"type\":\"COID\"}}},\"ultimateCreditor\":{\"name\":\"Wilderman and Sons, Inc\",\"legalEntity\":{\"other\":{\"id\":\"51073930\",\"type\":\"PRTRY\",\"proprietary\":\"CUSTOM ID TYPE\"}}},\"endToEnd\":\"KDX3287\"},\"objects\":[{\"test1\":{\"replace\":{\"paymentId\":\"${collectionBatchid}-${suiteBatchId}-${caseBatchId}-${counter}\",\"debtorAccount\":\"CY06904000010000000000201000\",\"creditorAccount\":\"CY06904000010000000000201000\",\"privatePerson\":\"asas\"},\"remove\":[\"unstructuredRemittanceInfo\",\"ultimateCreditor\"],\"result\":{\"httpCode\":\"200\",\"saveRequest\":true,\"saveResponse\":true,\"responseAssert\":{\"ultimateCreditor.legalEntity[*].other.id\":\"^.*\"}}}},{\"test2\":{\"replace\":{\"debtorAccount\":\"CY06904000010000000000201000\",\"creditorAccount\":\"CY06904000010000000000201000\"},\"remove\":[\"unstructuredRemittanceInfo\",\"ultimateCreditor\"],\"result\":{\"httpCode\":\"200\",\"responseSave\":true,\"reponseAssert\":{\"ultimateCreditor.legalEntity[0].other.id\":\"51073930\"}}}}]},{\"parameters\":{\"caseBatchId\":\"zzzzzzz222222\"},\"caseName\":\"OutgoingPaymentSimple\",\"caseBase\":\"OutgoingPaymentSCT\",\"threads\":3,\"loop\":100,\"flow\":[{\"sendPayment\":true,\"checkPayment\":true}],\"server\":{\"name\":\"asas\",\"http\":\"https://server/com\",\"header\":{\"autorization\":\"Fixeg token\",\"contetn-type\":\"application/json\"},\"method\":\"post\"},\"body\":{\"paymentId\":\"1321321231\",\"amount\":7.85,\"currency\":\"EUR\",\"unstructuredRemittanceInfo\":\"payment for Licensed Fresh Sausages\",\"debtorAccount\":\"sdfsdfdsf\",\"creditorAccount\":\"GB81SEOU00994400000088\",\"debtor\":{\"address\":{\"country\":\"IL\",\"addressLine1\":\"86460 Dibbert Prairie Suite 085\",\"addressLine2\":\"East Lisandrofort, LK-50064-7200\"},\"name\":\"Howell Abshire\",\"privatePerson\":{\"dateAndPlaceOfBirth\":{\"dateOfBirth\":\"1999-12-08\",\"country\":\"LR\",\"city\":\"South Vaughn\",\"province\":\"Bedfordshire\"}}},\"creditor\":{\"name\":\"Chadd Turcotte\",\"privatePerson\":{\"other\":{\"id\":\"719-16-5638\",\"type\":\"NIDN\"}}},\"ultimateDebtor\":{\"name\":\"White, Hahn and Howe, Inc\",\"legalEntity\":{\"other\":{\"id\":\"59025467\",\"type\":\"COID\"}}},\"ultimateCreditor\":{\"name\":\"Wilderman and Sons, Inc\",\"legalEntity\":{\"other\":{\"id\":\"51073930\",\"type\":\"PRTRY\",\"proprietary\":\"CUSTOM ID TYPE\"}}},\"endToEnd\":\"KDX3287\"},\"objects\":[{\"test1\":{\"replace\":{\"paymentId\":\"${batchid}-${suiteBatchId}-${caseBatchId}-${counter}\",\"debtorAccount\":\"CY06904000010000000000201000\",\"creditorAccount\":\"CY06904000010000000000201000\",\"privatePerson\":\"asas\"},\"remove\":[\"unstructuredRemittanceInfo\",\"ultimateCreditor\"],\"result\":{\"httpCode\":\"200\",\"responseSave\":true,\"responseAssert\":{\"ultimateCreditor.legalEntity[*].other.id\":\"51073930\"}}}},{\"test2\":{\"replace\":{\"paymentId\":\"${batchid}-${suiteBatchId}-${caseBatchId}-${counter}\",\"debtorAccount\":\"CY06904000010000000000201000\",\"creditorAccount\":\"CY06904000010000000000201000\"},\"remove\":[\"unstructuredRemittanceInfo\",\"ultimateCreditor\"],\"result\":{\"httpCode\":\"200\",\"responseSave\":true,\"reponseAssert\":{\"ultimateCreditor.legalEntity[0].other.id\":\"51073930\"}}}}]}]},{\"suiteName\":\"suite2\",\"version\":1212,\"parameters\":{\"suiteBatchId\":\"yyyyyyyy22222222\"},\"cases\":[{\"parameters\":{\"caseBatchId\":\"zzzzzzz1111111\"},\"caseName\":\"OutgoingPaymentSimple\",\"caseBase\":\"OutgoingPaymentSCT\",\"threads\":3,\"loop\":100,\"flow\":[{\"sendPayment\":true,\"checkPayment\":true}],\"server\":{\"clientName\":\"asas\",\"http\":\"https://server/com\",\"header\":{\"authorization\":\"Fixeg token\",\"x-ray\":\"1234567\",\"referrerUrl\":\"asasas\"},\"method\":\"post\"},\"body\":{\"paymentId\":\"1321321231\",\"amount\":7.85,\"currency\":\"EUR\",\"unstructuredRemittanceInfo\":\"payment for Licensed Fresh Sausages\",\"debtorAccount\":\"sdfsdfdsf\",\"creditorAccount\":\"GB81SEOU00994400000088\",\"debtor\":{\"address\":{\"country\":\"IL\",\"addressLine1\":\"86460 Dibbert Prairie Suite 085\",\"addressLine2\":\"East Lisandrofort, LK-50064-7200\"},\"name\":\"Howell Abshire\",\"privatePerson\":{\"dateAndPlaceOfBirth\":{\"dateOfBirth\":\"1999-12-08\",\"country\":\"LR\",\"city\":\"South Vaughn\",\"province\":\"Bedfordshire\"}}},\"creditor\":{\"name\":\"Chadd Turcotte\",\"privatePerson\":{\"other\":{\"id\":\"719-16-5638\",\"type\":\"NIDN\"}}},\"ultimateDebtor\":{\"name\":\"White, Hahn and Howe, Inc\",\"legalEntity\":{\"other\":{\"id\":\"59025467\",\"type\":\"COID\"}}},\"ultimateCreditor\":{\"name\":\"Wilderman and Sons, Inc\",\"legalEntity\":{\"other\":{\"id\":\"51073930\",\"type\":\"PRTRY\",\"proprietary\":\"CUSTOM ID TYPE\"}}},\"endToEnd\":\"KDX3287\"},\"objects\":[{\"test1\":{\"replace\":{\"paymentId\":\"${collectionBatchid}-${suiteBatchId}-${caseBatchId}-${counter}\",\"debtorAccount\":\"CY06904000010000000000201000\",\"creditorAccount\":\"CY06904000010000000000201000\",\"privatePerson\":\"asas\"},\"remove\":[\"unstructuredRemittanceInfo\",\"ultimateCreditor\"],\"result\":{\"httpCode\":\"200\",\"saveRequest\":true,\"saveResponse\":true,\"responseAssert\":{\"ultimateCreditor.legalEntity[*].other.id\":\"^.*\"}}}},{\"test2\":{\"replace\":{\"debtorAccount\":\"CY06904000010000000000201000\",\"creditorAccount\":\"CY06904000010000000000201000\"},\"remove\":[\"unstructuredRemittanceInfo\",\"ultimateCreditor\"],\"result\":{\"httpCode\":\"200\",\"responseSave\":true,\"reponseAssert\":{\"ultimateCreditor.legalEntity[0].other.id\":\"51073930\"}}}}]},{\"parameters\":{\"caseBatchId\":\"zzzzzzz222222\"},\"caseName\":\"OutgoingPaymentSimple\",\"caseBase\":\"OutgoingPaymentSCT\",\"threads\":3,\"loop\":100,\"flow\":[{\"sendPayment\":true,\"checkPayment\":true}],\"server\":{\"name\":\"asas\",\"http\":\"https://server/com\",\"header\":{\"autorization\":\"Fixeg token\",\"contetn-type\":\"application/json\"},\"method\":\"post\"},\"body\":{\"paymentId\":\"1321321231\",\"amount\":7.85,\"currency\":\"EUR\",\"unstructuredRemittanceInfo\":\"payment for Licensed Fresh Sausages\",\"debtorAccount\":\"sdfsdfdsf\",\"creditorAccount\":\"GB81SEOU00994400000088\",\"debtor\":{\"address\":{\"country\":\"IL\",\"addressLine1\":\"86460 Dibbert Prairie Suite 085\",\"addressLine2\":\"East Lisandrofort, LK-50064-7200\"},\"name\":\"Howell Abshire\",\"privatePerson\":{\"dateAndPlaceOfBirth\":{\"dateOfBirth\":\"1999-12-08\",\"country\":\"LR\",\"city\":\"South Vaughn\",\"province\":\"Bedfordshire\"}}},\"creditor\":{\"name\":\"Chadd Turcotte\",\"privatePerson\":{\"other\":{\"id\":\"719-16-5638\",\"type\":\"NIDN\"}}},\"ultimateDebtor\":{\"name\":\"White, Hahn and Howe, Inc\",\"legalEntity\":{\"other\":{\"id\":\"59025467\",\"type\":\"COID\"}}},\"ultimateCreditor\":{\"name\":\"Wilderman and Sons, Inc\",\"legalEntity\":{\"other\":{\"id\":\"51073930\",\"type\":\"PRTRY\",\"proprietary\":\"CUSTOM ID TYPE\"}}},\"endToEnd\":\"KDX3287\"},\"objects\":[{\"test1\":{\"replace\":{\"paymentId\":\"${batchid}-${suiteBatchId}-${caseBatchId}-${counter}\",\"debtorAccount\":\"CY06904000010000000000201000\",\"creditorAccount\":\"CY06904000010000000000201000\",\"privatePerson\":\"asas\"},\"remove\":[\"unstructuredRemittanceInfo\",\"ultimateCreditor\"],\"result\":{\"httpCode\":\"200\",\"responseSave\":true,\"responseAssert\":{\"ultimateCreditor.legalEntity[*].other.id\":\"51073930\"}}}},{\"test2\":{\"replace\":{\"paymentId\":\"${batchid}-${suiteBatchId}-${caseBatchId}-${counter}\",\"debtorAccount\":\"CY06904000010000000000201000\",\"creditorAccount\":\"CY06904000010000000000201000\"},\"remove\":[\"unstructuredRemittanceInfo\",\"ultimateCreditor\"],\"result\":{\"httpCode\":\"200\",\"responseSave\":true,\"reponseAssert\":{\"ultimateCreditor.legalEntity[0].other.id\":\"51073930\"}}}}]}]}]}}",
        "payloadType": "json",
        "x": 110,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "d2dd7ca0faca1580",
        "type": "inject",
        "z": "a5c9772ae6334205",
        "name": "Collection",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"collection\":{\"options\":{\"collectionName\":\"testtregtrerreion\",\"version\":1212,\"parameters\":{\"collectionBatchId\":\"xxxxxx\"}},\"suites\":[]}}",
        "payloadType": "json",
        "x": 140,
        "y": 160,
        "wires": [
            [
                "4b22910c3bed5175"
            ]
        ]
    },
    {
        "id": "4a6d7f360d63b7f6",
        "type": "debug",
        "z": "a5c9772ae6334205",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1150,
        "y": 160,
        "wires": []
    },
    {
        "id": "b13fdfdf981c85b1",
        "type": "subflow:4a9935b75e76a65a",
        "z": "a5c9772ae6334205",
        "name": "",
        "x": 310,
        "y": 160,
        "wires": [
            [
                "273e6953dbf9b6bc"
            ]
        ]
    },
    {
        "id": "273e6953dbf9b6bc",
        "type": "function",
        "z": "a5c9772ae6334205",
        "name": "Push Suite Into Collection",
        "func": "\nnode.log(msg.payload.suite);\n\nmsg.payload.collection.suites.push(msg.payload.suite);\n\ndelete msg.payload.suite;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 530,
        "y": 160,
        "wires": [
            [
                "4a6d7f360d63b7f6",
                "3ff1cd9256fd597f"
            ]
        ]
    },
    {
        "id": "3ff1cd9256fd597f",
        "type": "file",
        "z": "a5c9772ae6334205",
        "name": "",
        "filename": "/home/arturas/.node-red/projects/node-red/test.json",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 1170,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "a9d91ea7b8f1513c",
        "type": "subflow:293ae38c7343ee6b",
        "z": "a5c9772ae6334205",
        "name": "",
        "x": 310,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "5e1897dc5d00fe79",
        "type": "debug",
        "z": "a5c9772ae6334205",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 550,
        "y": 460,
        "wires": []
    },
    {
        "id": "c60a78651372d2d5",
        "type": "subflow:45a53fed240aa004",
        "z": "a5c9772ae6334205",
        "name": "",
        "env": [
            {
                "name": "caseBatchId",
                "value": "caseID1111",
                "type": "str"
            },
            {
                "name": "threads",
                "value": "100",
                "type": "num"
            },
            {
                "name": "loop",
                "value": "5",
                "type": "num"
            }
        ],
        "x": 310,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "4b22910c3bed5175",
        "type": "subflow:29f9222b83059643",
        "z": "a5c9772ae6334205",
        "name": "",
        "env": [
            {
                "name": "suiteName",
                "value": "My Suite",
                "type": "str"
            },
            {
                "name": "suiteBatchId",
                "value": "suiteBatchId2222",
                "type": "str"
            }
        ],
        "x": 310,
        "y": 580,
        "wires": [
            [
                "5e1897dc5d00fe79"
            ]
        ]
    },
    {
        "id": "9804ae9eb68137ee",
        "type": "inject",
        "z": "b70b82bf8d00eb8a",
        "name": "ctx = 0",
        "props": [
            {
                "p": "ctx",
                "v": "0",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 410,
        "y": 280,
        "wires": [
            [
                "b82bdc1deb8ef509"
            ]
        ]
    },
    {
        "id": "b82bdc1deb8ef509",
        "type": "change",
        "z": "b70b82bf8d00eb8a",
        "name": "ctx++",
        "rules": [
            {
                "t": "set",
                "p": "ctx",
                "pt": "msg",
                "to": "ctx+1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 360,
        "wires": [
            [
                "7855f2d23e2157f5",
                "7a6d9d05e5d9bf8a"
            ]
        ]
    },
    {
        "id": "7855f2d23e2157f5",
        "type": "debug",
        "z": "b70b82bf8d00eb8a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "ctx",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 860,
        "y": 280,
        "wires": []
    },
    {
        "id": "7a6d9d05e5d9bf8a",
        "type": "switch",
        "z": "b70b82bf8d00eb8a",
        "name": "while ( ctx < 10 )",
        "property": "ctx",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "10",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 640,
        "y": 220,
        "wires": [
            [
                "b82bdc1deb8ef509"
            ]
        ]
    }
]